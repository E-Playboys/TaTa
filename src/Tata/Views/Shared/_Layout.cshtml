@using System.Threading.Tasks
@using Microsoft.AspNetCore.Mvc.Localization
@using Tata.Helpers
@using Tata.Models.SessionModels
@using Microsoft.Extensions.Options
@inject IViewLocalizer StringRes
@{
    var orderItemsSessionModel = Context.Session.Get<List<OrderItemSessionModel>>(SessionConstants.ORDER_ITEMS_SESSION_MODEL_NAME) ?? new List<OrderItemSessionModel>();
    var paymentSessionModel = Context.Session.Get<PaymentSessionModel>(SessionConstants.PAYMENT_SESSION_MODEL_NAME) ?? new PaymentSessionModel();
}
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>@ViewData["Title"] - Tata</title>
  <meta class="viewport" name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- Favicon -->
  <link rel="shortcut icon" href="favicon.ico">
  <!-- Font -->
  <link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Arimo:400,700,400italic,700italic'>
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
            <link rel='stylesheet' href="~/css/ie/ie8.css">
  <![endif]-->
  <environment names="Development">
    <link rel="stylesheet" href="~/css/bootstrap.css">
    <link rel="stylesheet" href="~/css/font-awesome.min.css">
    <link rel="stylesheet" href="~/css/jslider.css">
    <link rel="stylesheet" href="~/css/revslider/settings.css">
    <link rel="stylesheet" href="~/css/jquery.fancybox.css">
    <link rel="stylesheet" href="~/css/animate.css">
    <link rel="stylesheet" href="~/css/video-js.min.css">
    <link rel="stylesheet" href="~/css/morris.css">
    <link rel="stylesheet" href="~/css/royalslider/royalslider.css">
    <link rel="stylesheet" href="~/css/royalslider/skins/minimal-white/rs-minimal-white.css">
    <link rel="stylesheet" href="~/css/layerslider/css/layerslider.css">
    <link rel="stylesheet" href="~/lib/seiyria-bootstrap-slider/dist/css/bootstrap-slider.css">
    <link rel="stylesheet" href="~/css/ladda.min.css">
    <link rel="stylesheet" href="~/css/datepicker.css">
    <link rel="stylesheet" href="~/css/jquery.scrollbar.css">
    <link rel="stylesheet" href="~/css/style.css" />
    <link rel="stylesheet" href="~/css/customizer/pages.css">
    <link rel="stylesheet" href="~/css/customizer/home-pages-customizer.css">
    <link rel='stylesheet' href="~/css/ie/ie.css">
    <link rel="stylesheet" href="~/css/site.css" />
  </environment>
  <environment names="Staging,Production">
    <link rel="stylesheet" href="https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/css/bootstrap.min.css"
          asp-fallback-href="~/lib/bootstrap/dist/css/bootstrap.min.css"
          asp-fallback-test-class="sr-only" asp-fallback-test-property="position" asp-fallback-test-value="absolute" />
    <link rel="stylesheet" href="~/css/tata.min.css" asp-append-version="true" />
  </environment>
  @Html.ApplicationInsightsJavaScript(TelemetryConfiguration)
</head>
<body>
  <div class="page-box">
    <div class="page-box-content">
      <div id="top-box">
        <div class="top-box-wrapper bg-info">
          <div class="container">
            <div class="row">
              <div class="col-xs-9 col-sm-5">
                  <div class="btn-group language btn-select">
                    <a class="btn dropdown-toggle btn-default" role="button" data-toggle="dropdown" href="#">
                      <span class="hidden-xs">@StringRes["LanguageLabel"]</span><span class="visible-xs">Lang</span>
                      : @StringRes["CurrentLanguageName"]
                      <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                      <li><a onclick="ChangeLanguage('en-US')" href="#"><img src="images/eng-flag.png" alt="English">English</a></li>
                      <li><a onclick="ChangeLanguage('vi-VN')" href="#"><img src="images/vi-flag.png" alt="Vietnamese">Vietnamese</a></li>
                    </ul>
                  </div>
              </div>

              <div class="col-xs-3 col-sm-7">
                <div class="navbar navbar-inverse top-navbar top-navbar-right" role="navigation">
                  <button type="button" class="navbar-toggle btn-navbar collapsed" data-toggle="collapse" data-target=".top-navbar .navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                  </button>

                  <nav class="collapse collapsing navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        @if (User.Identity.IsAuthenticated)
                        {
                            if (User.IsInRole("Administrator"))
                            {
                                  <li>
                                    @Html.ActionLink(StringRes["AdminLabel"].Value, "Index", "Backend/Setting", null)
                                  </li>
                            }
                            else
                            {
                              <li>
                                  @Html.ActionLink(StringRes["AccountLabel"].Value, "Index", "Manage", null)
                              </li>
                              <li><a href="@Url.Action("Wishlist", "Manage", null)"><i class="fa fa-heart"></i> Wishlist</a></li>
                              <li>
                                  @Html.ActionLink("Giỏ hàng", "Cart", "Home", null)
                              </li>
                              <li>
                                  @Html.ActionLink("Checkout", "Checkout", "Manage", null)
                              </li>
                            }
                            <li>
                              @Html.ActionLink("Thoát", "Logoff", "Account", null)
                            </li>
                        }
                        else
                        {
                            <li><a href="@Url.Action("Login", "Account", new { returnUrl = Context.Request.Host.Value + Context.Request.Path.Value })">@StringRes["LoginLabel"] <i class="fa fa-sign-in after"></i></a></li>
                        }
                    </ul>
                  </nav>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div><!-- #top-box -->

      <header class="header">
        <div class="header-wrapper">
          <div class="container">
            <div class="row">
              <div class="col-xs-6 col-md-2 col-lg-2 logo-box">
                <div class="logo">
                  <a href="@Url.Action("Index", "Home")">
                    <img src="~/images/vps.png" class="logo-img" alt="">
                  </a>
                </div>
              </div><!-- .logo-box -->

              <div class="col-xs-6 col-md-10 col-lg-10 right-box">
                <div class="right-box-wrapper">
                  <div class="header-icons">
                    <div class="search-header hidden-600">
                      <a href="#">
                        <svg x="0" y="0" width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                        <path d="M12.001,10l-0.5,0.5l-0.79-0.79c0.806-1.021,1.29-2.308,1.29-3.71c0-3.313-2.687-6-6-6C2.687,0,0,2.687,0,6
                    s2.687,6,6,6c1.402,0,2.688-0.484,3.71-1.29l0.79,0.79l-0.5,0.5l4,4l2-2L12.001,10z M6,10c-2.206,0-4-1.794-4-4s1.794-4,4-4
                    s4,1.794,4,4S8.206,10,6,10z"></path>
                        
                  </svg>
                      </a>
                    </div>

                    <div class="btn-group cart-header">
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        <div class="icon">
                          <svg x="0" y="0" width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                          <g>
                          <path d="M15.001,4h-0.57l-3.707-3.707c-0.391-0.391-1.023-0.391-1.414,0c-0.391,0.391-0.391,1.023,0,1.414L11.603,4
                        H4.43l2.293-2.293c0.391-0.391,0.391-1.023,0-1.414s-1.023-0.391-1.414,0L1.602,4H1C0.448,4,0,4.448,0,5s0.448,1,1,1
                        c0,2.69,0,7.23,0,8c0,1.104,0.896,2,2,2h10c1.104,0,2-0.896,2-2c0-0.77,0-5.31,0-8c0.553,0,1-0.448,1-1S15.554,4,15.001,4z
                        M13.001,14H3V6h10V14z"></path>
                          <path d="M11.001,13c0.553,0,1-0.447,1-1V8c0-0.553-0.447-1-1-1s-1,0.447-1,1v4C10.001,12.553,10.448,13,11.001,13z"></path>
                          <path d="M8,13c0.553,0,1-0.447,1-1V8c0-0.553-0.448-1-1-1S7,7.447,7,8v4C7,12.553,7.448,13,8,13z"></path>
                          <path d="M5,13c0.553,0,1-0.447,1-1V8c0-0.553-0.447-1-1-1S4,7.447,4,8v4C4,12.553,4.448,13,5,13z"></path>
                     </g>
                    </svg>
                        </div>
                        <span class="count">@paymentSessionModel.NetTotal.ToString("N0") @paymentSessionModel.CurrencyName</span>
                      </a>
                      <div class="dropdown-menu">
                        <strong>Giỏ hàng</strong>
                        <ul class="list-unstyled">
                          @foreach (var orderItemSessionModel in orderItemsSessionModel)
                          {
                              <li>
                                <a href="shop-product-view.html" class="product-image"><img class="replace-2x" src="content/img/product-1.jpg" width="70" height="70" alt=""></a>
                                <a href="#" class="product-remove">
                                  <svg x="0" y="0" width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                                  <g>
                                  <path d="M6,13c0.553,0,1-0.447,1-1V7c0-0.553-0.447-1-1-1S5,6.447,5,7v5C5,12.553,5.447,13,6,13z"></path>
                                  <path d="M10,13c0.553,0,1-0.447,1-1V7c0-0.553-0.447-1-1-1S9,6.447,9,7v5C9,12.553,9.447,13,10,13z"></path>
                                  <path d="M14,3h-1V1c0-0.552-0.447-1-1-1H4C3.448,0,3,0.448,3,1v2H2C1.447,3,1,3.447,1,4s0.447,1,1,1
                            c0,0.273,0,8.727,0,9c0,1.104,0.896,2,2,2h8c1.104,0,2-0.896,2-2c0-0.273,0-8.727,0-9c0.553,0,1-0.447,1-1S14.553,3,14,3z M5,2h6v1
                            H5V2z M12,14H4V5h8V14z"></path>
                                </g>
                              </svg>
                                </a><!-- .product-remove -->
                                <h4 class="product-name"><a href="@Url.Action("Vps", "ConfigureProduct", new { productId = orderItemSessionModel.Product.Id })" title="@orderItemSessionModel.Product.Name">@orderItemSessionModel.Product.Name</a></h4>
                                <div class="product-price">@orderItemSessionModel.Quantity x <span class="price">@((orderItemSessionModel.Product.Price.Price + orderItemSessionModel.Properties.Sum(p => p.Price.Price)).ToString("N0")) @orderItemSessionModel.Product.Price.CurrencyName</span></div>
                                <div class="clearfix"></div>
                              </li>
                          }
                        </ul>
                        <div class="cart-button">
                          <a href="@Url.Action("Cart", "Payment")" class="btn btn-primary">@StringRes["Kiểm tra giỏ hàng"]</a>
                          <a href="@Url.Action("Selection", "Payment")" class="btn checkout btn-default">@StringRes["Thanh toán"]</a>
                        </div>
                      </div>
                    </div><!-- .cart-header -->
                  </div><!-- .header-icons -->

                  <div class="primary">
                    @await Html.PartialAsync("_TopMenuPartial")
                  </div><!-- .primary -->
                </div>
              </div>

              <div class="search-active col-sm-10 col-md-10">
                <a href="#" class="close"><span>đóng</span>×</a>
                @using (Html.BeginForm("Search", "Home", FormMethod.Get, new { Name = "search-form", Class = "search-form" }))
                {
                    <input class="search-string form-control" type="search" placeholder="Search here" name="search-string">
                    <button class="search-submit">
                      <svg x="0" y="0" width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                      <path fill="#231F20" d="M12.001,10l-0.5,0.5l-0.79-0.79c0.806-1.021,1.29-2.308,1.29-3.71c0-3.313-2.687-6-6-6C2.687,0,0,2.687,0,6
                                                                    s2.687,6,6,6c1.402,0,2.688-0.484,3.71-1.29l0.79,0.79l-0.5,0.5l4,4l2-2L12.001,10z M6,10c-2.206,0-4-1.794-4-4s1.794-4,4-4
                                                                    s4,1.794,4,4S8.206,10,6,10z"></path>
                      <image src="img/png-icons/search-icon.png" alt="" width="16" height="16" style="vertical-align: top;" />
                      </svg>
                    </button>
                }
              </div>
            </div><!--.row -->
          </div>
        </div><!-- .header-wrapper -->
      </header><!-- .header -->

      @if (Context.Request.Path == "/Home/Index" || Context.Request.Path == "/")
      {
          <div class="clearfix"></div>
          <section>
            @RenderBody()
          </section>
        <!-- #main -->
      }
      else
      {
          <div class="breadcrumb-box">
            <div class="container">
              <ul class="breadcrumb">
                <li>@Html.ActionLink(StringRes["Trang chủ"].Value, "Index", "Home")</li>
                <li class="active">@ViewData["Title"]</li>
              </ul>
            </div>
          </div><!-- .breadcrumb-box -->
          <div class="clearfix"></div>
          <section id="main">
            @RenderBody()
          </section>
      }
    </div><!-- .page-box-content -->
  </div><!-- .page-box -->
  @await Component.InvokeAsync("FooterComponent")
  <div class="clearfix"></div>
  <environment names="Development">
    <!--[if (!IE)|(gt IE 8)]><!-->
    <script src="~/js/jquery-3.0.0.min.js"></script>
    <!--<![endif]-->
    <!--[if lte IE 8]>
        <script src="~/js/jquery-1.9.1.min.js"></script>
    <![endif]-->
    <script src="~/js/bootstrap.min.js"></script>
    <script src="~/js/price-regulator/jshashtable-2.1_src.js"></script>
    <script src="~/js/price-regulator/jquery.numberformatter-1.2.3.js"></script>
    <script src="~/js/price-regulator/tmpl.js"></script>
    <script src="~/js/price-regulator/jquery.dependClass-0.1.js"></script>
    <script src="~/js/price-regulator/draggable-0.1.js"></script>
    <script src="~/js/price-regulator/jquery.slider.js"></script>
    <script src="~/js/jquery.carouFredSel-6.2.1-packed.js"></script>
    <script src="~/js/jquery.touchwipe.min.js"></script>
    <script src="~/js/jquery.elevateZoom-3.0.8.min.js"></script>
    <script src="~/js/jquery.imagesloaded.min.js"></script>
    <script src="~/js/jquery.appear.js"></script>
    <script src="~/js/jquery.sparkline.min.js"></script>
    <script src="~/js/jquery.easypiechart.min.js"></script>
    <script src="~/js/jquery.easing.1.3.js"></script>
    <script src="~/js/jquery.fancybox.pack.js"></script>
    <script src="~/js/isotope.pkgd.min.js"></script>
    <script src="~/js/jquery.knob.js"></script>
    <script src="~/js/jquery.selectBox.min.js"></script>
    <script src="~/js/jquery.royalslider.min.js"></script>
    <script src="~/js/jquery.tubular.1.0.js"></script>
    <script src="~/js/SmoothScroll.js"></script>
    <script src="~/js/country.js"></script>
    <script src="~/js/spin.min.js"></script>
    <script src="~/js/ladda.min.js"></script>
    <script src="~/js/masonry.pkgd.min.js"></script>
    <script src="~/js/morris.min.js"></script>
    <script src="~/js/raphael.min.js"></script>
    <script src="~/js/video.js"></script>
    <script src="~/js/pixastic.custom.js"></script>
    <script src="~/js/livicons-1.4.min.js"></script>
    <script src="~/js/layerslider/greensock.js"></script>
    <script src="~/js/layerslider/layerslider.transitions.js"></script>
    <script src="~/js/layerslider/layerslider.kreaturamedia.jquery.js"></script>
    <script src="~/js/revolution/jquery.themepunch.tools.min.js"></script>
    <script src="~/js/revolution/jquery.themepunch.revolution.min.js"></script>
    <!-- SLIDER REVOLUTION 5.0 EXTENSIONS
        (Load Extensions only on Local File Systems !
        The following part can be removed on Server for On Demand Loading) -->
    <script src="~/js/revolution/extensions/revolution.extension.actions.min.js"></script>
    <script src="~/js/revolution/extensions/revolution.extension.carousel.min.js"></script>
    <script src="~/js/revolution/extensions/revolution.extension.kenburn.min.js"></script>
    <script src="~/js/revolution/extensions/revolution.extension.layeranimation.min.js"></script>
    <script src="~/js/revolution/extensions/revolution.extension.migration.min.js"></script>
    <script src="~/js/revolution/extensions/revolution.extension.navigation.min.js"></script>
    <script src="~/js/revolution/extensions/revolution.extension.parallax.min.js"></script>
    <script src="~/js/revolution/extensions/revolution.extension.slideanims.min.js"></script>
    <script src="~/js/revolution/extensions/revolution.extension.video.min.js"></script>
    <script src="~/js/bootstrapValidator.min.js"></script>
    <script src="~/js/bootstrap-datepicker.js"></script>
    <script src="~/js/jplayer/jquery.jplayer.min.js"></script>
    <script src="~/js/jplayer/jplayer.playlist.min.js"></script>
    <script src="~/js/jquery.scrollbar.min.js"></script>
    <script src="~/lib/seiyria-bootstrap-slider/dist/bootstrap-slider.js"></script>
    <script src="~/js/main.js"></script>

    <script src="~/js/site.js" asp-append-version="true"></script>
  </environment>
  <environment names="Staging,Production">
    <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.0.min.js"
            asp-fallback-src="~/lib/jquery/dist/jquery.min.js"
            asp-fallback-test="window.jQuery">
    </script>
    <script src="https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/bootstrap.min.js"
            asp-fallback-src="~/lib/bootstrap/dist/js/bootstrap.min.js"
            asp-fallback-test="window.jQuery && window.jQuery.fn && window.jQuery.fn.modal">
    </script>
    <!--[if (!IE)|(gt IE 8)]><!-->
    <script src="~/js/jquery-3.0.0.min.js"></script>
    <!--<![endif]-->
    <!--[if lte IE 8]>
    <script src="~/js/jquery-1.9.1.min.js"></script>
    <![endif]-->
    <script src="~/js/site.min.js" asp-append-version="true"></script>
  </environment>

  <script type="text/javascript">
    function ChangeLanguage(lang) {
      $.ajax({
        url: '@Url.Action("SetLanguage", "Home")',
        type: 'POST',
        data: {
          culture: lang,
          returnUrl: '@Context.Request.Path'
        },
        error: function (xhr) {
          console.error(xhr);
        }
      });
    }
  </script>

  @RenderSection("Scripts", required: false)
</body>
</html>